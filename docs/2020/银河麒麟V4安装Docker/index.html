<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        小菠菜NVM
    </title>
    <link rel="shortcut icon" href="/favicon.ico">
    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.2.0"></head>

<body>
    <header class="header">
    <div class="header-wrapper">
        <div class="blog-title">
            <a href="/" class="blog-title-link">
                小菠菜NVM
            </a>
        </div>
        <nav class="navbar">
            <div class="menu">
                
                    <div class="menu-item">
                        <a href="/" class="menu-item-link">
                            首页
                        </a>
                    </div>
                    
                    <div class="menu-item">
                        <a href="/archives" class="menu-item-link">
                            归档
                        </a>
                    </div>
                    
                    <div class="menu-item">
                        <a href="/tags" class="menu-item-link">
                            标签
                        </a>
                    </div>
                    
                    <div class="menu-item">
                        <a target="_blank" rel="noopener" href="https://github.com/inferno0303" class="menu-item-link">
                            关于
                        </a>
                    </div>
                    
            </div>
        </nav>
    </div>
</header>
    <div class="main">
        <article class="post-wrapper">
  <div class="post-title">
    <h1 class="h1-title">
      银河麒麟V4安装Docker
    </h1>
  </div>
  <div class="post-meta">
    <span class="post-tags">
      
        <a href="/tags/note">#note</a>
        
    </span>
    <span class="post-time">2020-09-30</span>
  </div>
  <div class="post-content">
    <p><strong>（适用于银河麒麟4.0.2社区版操作系统）</strong></p>
<h4 id="0、下载deb包"><a href="#0、下载deb包" class="headerlink" title="0、下载deb包"></a>0、下载deb包</h4><p>银河麒麟v4操作系统，基于ubuntu1604LTS，下载对应版本的deb包可直接安装。<br>直接在这个网站搜寻ubuntu仓库的deb包，输入包名即可。（需要科学上网）<br><code>https://pkgs.org</code></p>
<h4 id="1、在干净的银河麒麟操作系统中，安装必须的组件lrzsz、htop："><a href="#1、在干净的银河麒麟操作系统中，安装必须的组件lrzsz、htop：" class="headerlink" title="1、在干净的银河麒麟操作系统中，安装必须的组件lrzsz、htop："></a>1、在干净的银河麒麟操作系统中，安装必须的组件lrzsz、htop：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i lrzsz_0.12.21-10_build0.16.04.1_amd64.deb</span><br><span class="line">sudo dpkg -i htop_2.0.1-1_amd64.deb</span><br></pre></td></tr></table></figure>

<h4 id="2、安装docker-deb包，依次安装如下组件："><a href="#2、安装docker-deb包，依次安装如下组件：" class="headerlink" title="2、安装docker deb包，依次安装如下组件："></a>2、安装docker deb包，依次安装如下组件：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i libseccomp2_2.4.3-1ubuntu3.16.04.3_amd64.deb</span><br><span class="line">sudo dpkg -i containerd.io_1.2.13-2_amd64.deb</span><br><span class="line">sudo dpkg -i docker-ce-cli_19.03.12_3-0_ubuntu-xenial_amd64.deb</span><br><span class="line">sudo dpkg -i docker-ce_19.03.12_3-0_ubuntu-xenial_amd64.deb</span><br></pre></td></tr></table></figure>

<h4 id="3、设置国内的docker-registry地址："><a href="#3、设置国内的docker-registry地址：" class="headerlink" title="3、设置国内的docker registry地址："></a>3、设置国内的docker registry地址：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /etc/docker</span><br><span class="line">sudo vim /etc/docker/daemon.json</span><br><span class="line">输入以下内容并保存：</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [</span><br><span class="line">    &quot;https://hub-mirror.c.163.com&quot;,</span><br><span class="line">    &quot;https://mirror.baidubce.com&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line">最后重启docker服务：</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

<h4 id="4、运行hello-world镜像，测试安装是否成功："><a href="#4、运行hello-world镜像，测试安装是否成功：" class="headerlink" title="4、运行hello-world镜像，测试安装是否成功："></a>4、运行hello-world镜像，测试安装是否成功：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run hello-world</span><br><span class="line">阿里云镜像加速器：</span><br><span class="line"></span><br><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://ylfo3bxn.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

  </div>
</article>
    </div>
    <div class="footer">
    <p>
        © Copyright 2022 <a target="_blank" rel="noopener" href="https://github.com/inferno0303/" style="color: #ccc;">inferno0303</a>
    </p>
</div>
</body>

</html>