<!-- 根模板 -->
<!DOCTYPE html>
<html lang="zh-CN">
<!-- head标签 -->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        yx的备忘录
    </title>
    <link rel="shortcut icon" href="/favicon.ico">
    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/css/hljs-default-min.css">

    <script type="module" src="/js/index.js"></script>
<meta name="generator" content="Hexo 6.3.0"></head>
<!-- body标签 -->
<body>
    <!-- header区域 -->
    <header class="header">
        <div class="header-wrapper">
            <div class="website-title" id="website-title">
                <a href="/" class="website-title-link">
                    yx的备忘录
                </a>
            </div>
            <nav class="menu">
                
                    <li class="menu-item">
                        <a href="/">
                            首页
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/archives">
                            归档
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/tags">
                            标签
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a target="_blank" rel="noopener" href="https://github.com/inferno0303">
                            关于
                        </a>
                    </li>
                
            </nav>
        </div>
    </header>

    
        <div class="banner-placeholder" id="banner-placeholder"></div>
    

    <div class="container">
        <!-- 嵌套内容区域 -->
        <div class="content">
            <article class="post">
  <div class="post-title" id="post-title">
    <h1 class="h1-title">
      Java虚拟机
    </h1>
  </div>
  <div class="post-meta">
    <span class="post-tags">
      
        <a href="/tags/Java">#Java</a>
      
    </span>
    <span class="post-word-count">1343字</span>
    <span class="post-time">2022-05-19</span>
  </div>
  <div class="post-content">
    <h2 id="JVM的架构"><a href="#JVM的架构" class="headerlink" title="JVM的架构"></a>JVM的架构</h2><p>JVM主要由四部分组成：</p>
<ol>
<li>Class Loader（类加载器）</li>
<li>Runtime Data Area（JVM内存空间结构模型）：Stack（栈）、Heap（堆）、Method Area（方法区）、PC Register、Native Method Stack（本地方法栈）</li>
<li>Execution Engine（执行引擎，对命令进行解析成字节码）</li>
<li>Native interface（本地接口，用Java调用native方法）</li>
</ol>
<h2 id="反射是什么"><a href="#反射是什么" class="headerlink" title="反射是什么"></a>反射是什么</h2><p>Java反射，是在运行状态中，对于任意一个<strong>类</strong>，都能获取这个类的所有属性和方法。对于任意一个<strong>对象</strong>，都能调用它的任意方法和属性。<br>这种<strong>动态获取信息、动态调用对象方法</strong>的功能称为Java语言的反射机制。</p>
<h2 id="写一个反射的例子"><a href="#写一个反射的例子" class="headerlink" title="写一个反射的例子"></a>写一个反射的例子</h2><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-type">Class</span> <span class="hljs-variable">rc</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;com.xx.xx&quot;</span>); <span class="hljs-comment">// 加载一个类</span><br><span class="hljs-type">Robot</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> (Robot) rc.newInstance(); <span class="hljs-comment">// 新建类实例对象</span><br>rc.getName(); <span class="hljs-comment">// 获取类的名字</span><br><span class="hljs-type">Method</span> <span class="hljs-variable">getHello</span> <span class="hljs-operator">=</span> rc.getDeclaredMethod(<span class="hljs-string">&quot;hello&quot;</span>, String.class) <span class="hljs-comment">// 获取这个类的某一个方法，类型是Method，可以获取private方法</span><br>getHello.setAccessible(<span class="hljs-literal">true</span>); <span class="hljs-comment">// 调用方法前，要设置可访问性</span><br><span class="hljs-type">Object</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> getHello.invoke(r, <span class="hljs-string">&quot;Bob&quot;</span>); <span class="hljs-comment">// 调用这个方法，invoke</span><br></code></pre></td></tr></table></figure>

<h2 id="谈谈ClassLoader"><a href="#谈谈ClassLoader" class="headerlink" title="谈谈ClassLoader"></a>谈谈ClassLoader</h2><p>类从编译到执行的过程：</p>
<ol>
<li>编译器将Hello.java源文件编译为Hello.class字节码文件</li>
<li>ClassLoader将字节码转换为JVM中的Class<Hello>对象</li>
<li>JVM将类实例化为对象</li>
</ol>
<h3 id="ClassLoader是什么"><a href="#ClassLoader是什么" class="headerlink" title="ClassLoader是什么"></a>ClassLoader是什么</h3><p>ClassLoader在Java中由非常重要的作用，它主要是工作在Class装载的加载阶段，主要作用是从系统外部获得<strong>Class二进制数据流</strong>，它是Java的核心组件，所有的Class都是由ClassLoader进行加载的。ClassLoader负责将Class文件的二进制数据流装进系统，然后交给Java虚拟机进行连接，初始化等操作。</p>
<h3 id="ClassLoader的种类"><a href="#ClassLoader的种类" class="headerlink" title="ClassLoader的种类"></a>ClassLoader的种类</h3><ol>
<li>BootStrapClassLoader：C++编写，加载核心库，提高安全性和性能，与平台相关</li>
<li>ExtClassLoader：获取java.ext路径的类，加载javax</li>
<li>AppClassLoader：加载ClassPath，用户编写的程序</li>
</ol>
<h2 id="操作系统的内存：从物理地址到逻辑地址"><a href="#操作系统的内存：从物理地址到逻辑地址" class="headerlink" title="操作系统的内存：从物理地址到逻辑地址"></a>操作系统的内存：从物理地址到逻辑地址</h2><p>物理地址 -&gt; 分页管理机制 -&gt; 线性地址 -&gt; 分段管理机制 -&gt; 逻辑地址</p>
<p>32bit系统：2^32<br>64bit系统：2^64</p>
<p>地址空间的划分：</p>
<ul>
<li>内核空间</li>
<li>用户空间</li>
</ul>

  </div>
</article>
<script>
  // 修改网页标题
  document.title = document.getElementById("post-title").innerText + ' - ' + document.getElementById("website-title").innerText;
</script>
        </div>
        <div class="footer">
            <p>
                © Copyright 2022 <a target="_blank" rel="noopener" href="https://github.com/inferno0303/" style="color: #ccc;">inferno0303</a>
            </p>
        </div>
    </div>

</body>
</html>